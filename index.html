<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Valentine Page</title>
<style>
body {
    background-image: url('https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExenkyb2FmZmswZm4zZmJ2cXpsdWdwcXA4MzFndHN2cmNzNnBpOHZ1OSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/mBjozLJY4LfEOzlIpN/giphy.gif'); 
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    height: 100vh;
    margin: 0;
    font-family: 'Arial', sans-serif;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
}

.container {
    width: 90%;
    max-width: 400px;
    text-align: center;
    background-color: rgba(255, 255, 255, 0.85);
    padding: 20px;
    border-radius: 20px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    position: relative;
    z-index: 2;
}

h1 { color: #ff4081; font-size: 1.5em; }

input {
    padding: 10px;
    font-size: 1em;
    border-radius: 5px;
    border: 1px solid #ff4081;
    width: 80%;
    margin-top: 10px;
}

button {
    padding: 10px 20px;
    font-size: 1em;
    background-color: #ff4081;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    margin: 10px;
    transition: all 0.3s ease;
}

#proposal-screen { display: none; }
#no-btn { position: relative; }

#overlay {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    backdrop-filter: blur(10px);
    background: rgba(0,0,0,0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    font-size: 2em;
    z-index: 9999;
    cursor: pointer;
    transition: opacity 2s ease;
}

body.blurred *:not(#overlay) {
    filter: blur(10px);
    transition: filter 2s ease;
}

/* ðŸ’– Floating Hearts */
.heart {
    position: fixed;
    bottom: -30px;
    font-size: 22px;
    animation: floatUp 6s linear forwards;
    pointer-events: none;
    z-index: 1;
}

@keyframes floatUp {
    0%   { transform: translateY(0) scale(0.8); opacity: 0; }
    10%  { opacity: 1; }
    100% { transform: translateY(-110vh) scale(1.2); opacity: 0; }
}
</style>
</head>
<body class="blurred">

<div id="overlay">Click anywhere</div>
<audio id="bg-music" preload="auto"></audio>

<div id="login-screen" class="container">
    <h1>Who are you?</h1>
    <p>Please enter your first name:</p>
    <input type="text" id="name-input" placeholder="Name...">
    <button onclick="checkName()">Enter</button>
    <p id="error-msg" style="color:red; display:none;">Access Denied</p>
</div>

<div id="proposal-screen" class="container">
    <h1>Can I be your Valentine? ðŸ’–</h1>
    <div class="buttons">
        <button id="yes-btn" onclick="sheSaidYes()">Yes</button>
        <button id="no-btn">No</button>
    </div>
</div>

<script>
let heartInterval = null;

function startHearts() {
    if (heartInterval) return;
    heartInterval = setInterval(() => {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.textContent = ["ðŸ§Žâ€â™‚ï¸","ðŸ›","ðŸ™"][Math.floor(Math.random()*3)];
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.fontSize = (Math.random()*15 + 15) + "px";
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(), 6000);
    }, 400);
}

function checkName() {
    const input = document.getElementById('name-input').value;
    const errorMsg = document.getElementById('error-msg');
    if (input.toLowerCase() === "jhace") {
        document.getElementById('login-screen').style.display = "none";
        document.getElementById('proposal-screen').style.display = "block";
        startHearts(); // ðŸ’– START FLOATING HEARTS
    } else {
        errorMsg.style.display = "block";
    }
}

function sheSaidYes() {
    const proposalScreen = document.getElementById('proposal-screen');
    proposalScreen.innerHTML = `
        <h1>YAYYY!!! ðŸ’–ðŸ¥°</h1>
        <p>You just made me the happiest person alive!</p>
        <p>See you on our Valentineâ€™s date ðŸ’•</p>
    `;
    document.body.style.background = "linear-gradient(135deg, #ff9a9e, #fad0c4)";
}

/* NO BUTTON MOVES */
let yesSize = 1;
let isMoving = false;
const noBtn = document.getElementById('no-btn');

noBtn.addEventListener('mouseover', moveButton);
noBtn.addEventListener('touchstart', moveButton, {passive:false});

function moveButton(e) {
    if (isMoving) return;
    if (e && e.type === 'touchstart') e.preventDefault();

    isMoving = true;
    const yesBtn = document.getElementById('yes-btn');
    yesSize += 0.2;
    yesBtn.style.transform = `scale(${yesSize})`;

    const vw = window.innerWidth;
    const vh = window.innerHeight;

    noBtn.style.position = "fixed";
    noBtn.style.left = Math.random() * (vw - noBtn.offsetWidth) + "px";
    noBtn.style.top = Math.random() * (vh - noBtn.offsetHeight) + "px";

    setTimeout(()=>{isMoving=false;},300);
}

/* ðŸŽµ MUSIC SYSTEM */
const playlist = [
    "https://jayzontop.github.io/music1.mp3",
    "https://jayzontop.github.io/music2.mp3"
];

let currentTrack = 0;
const player = document.getElementById("bg-music");

function fadeIn(audio, step=0.05) {
    audio.volume = 0;
    const interval = setInterval(() => {
        if(audio.volume < 1) audio.volume = Math.min(audio.volume + step, 1);
        else clearInterval(interval);
    }, 200);
}

function playNextTrack() {
    currentTrack = (currentTrack + 1) % playlist.length;
    player.src = playlist[currentTrack];
    player.play();
    fadeIn(player);
}

player.addEventListener("ended", playNextTrack);

document.getElementById("overlay").addEventListener("click", () => {
    const overlay = document.getElementById("overlay");
    overlay.style.opacity = "0";
    setTimeout(()=>overlay.style.display="none",2000);
    document.body.classList.remove("blurred");

    player.src = playlist[currentTrack];
    player.play().then(()=>fadeIn(player)).catch(()=>{});
});
</script>
</body>
</html>

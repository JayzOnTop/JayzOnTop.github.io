<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<title>Be My Valentine?</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
    :root {
        --primary-color: #ff4081;
        --bg-overlay: rgba(255, 255, 255, 0.9);
        --font-main: 'Poppins', sans-serif;
        --font-fancy: 'Great Vibes', cursive;
    }

    body {
        margin: 0;
        height: 100vh;
        overflow: hidden;
        font-family: var(--font-main);
        background-color: #000;
        /* Background image set in JS Config */
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: background 1s ease;
    }

    /* Blur Effect */
    body.blurred > *:not(#overlay) {
        filter: blur(8px);
        pointer-events: none;
    }

    /* Start Overlay */
    #overlay {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.6);
        backdrop-filter: blur(5px);
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        font-size: 1.5rem;
        z-index: 1000;
        cursor: pointer;
        transition: opacity 0.8s ease;
        text-align: center;
        padding: 20px;
    }

    /* Main Card Container */
    .container {
        width: 85%;
        max-width: 380px;
        text-align: center;
        background-color: var(--bg-overlay);
        padding: 30px 20px;
        border-radius: 25px;
        box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        position: relative;
        z-index: 10;
        transform: scale(1);
        transition: transform 0.3s ease, opacity 0.5s ease;
    }

    h1 {
        color: var(--primary-color);
        margin-bottom: 20px;
        line-height: 1.2;
    }
    
    .fancy-text {
        font-family: var(--font-fancy);
        font-size: 2.5rem;
        margin: 0;
    }

    p { color: #555; }

    /* Inputs & Buttons */
    input {
        padding: 12px;
        font-size: 1rem;
        border-radius: 12px;
        border: 2px solid var(--primary-color);
        width: 70%;
        margin-bottom: 15px;
        outline: none;
        text-align: center;
    }

    button {
        padding: 12px 25px;
        font-size: 1rem;
        background-color: var(--primary-color);
        color: white;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        margin: 5px;
        transition: transform 0.2s, background-color 0.2s;
        font-weight: 600;
        box-shadow: 0 4px 10px rgba(255, 64, 129, 0.3);
    }

    button:active { transform: scale(0.95); }

    .buttons {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-top: 20px;
    }

    /* Utility Classes */
    .hidden { display: none !important; }
    .fade-out { opacity: 0; pointer-events: none; }

    /* Floating Hearts Animation */
    .heart {
        position: fixed;
        bottom: -50px;
        font-size: 24px;
        animation: floatUp 6s linear forwards;
        pointer-events: none;
        z-index: 1;
        will-change: transform;
    }

    @keyframes floatUp {
        0% { transform: translateY(0) scale(0.8) rotate(0deg); opacity: 0; }
        10% { opacity: 1; }
        100% { transform: translateY(-120vh) scale(1.2) rotate(360deg); opacity: 0; }
    }
</style>
</head>
<body class="blurred">

    <div id="overlay">
        <div>
            <p style="color:white; margin:0;">Tap to Start ðŸ’•</p>
            <small style="font-size: 0.8rem; opacity: 0.8;">(Sound On)</small>
        </div>
    </div>

    <audio id="bg-music" preload="auto"></audio>

    <div id="login-screen" class="container">
        <h1>Who are you?</h1>
        <p>Please enter your name to verify access:</p>
        <input type="text" id="name-input" placeholder="Your Name..." autocomplete="off">
        <br>
        <button id="login-btn">Enter</button>
        <p id="error-msg" class="hidden" style="color:#d32f2f; font-weight:bold; margin-top:10px;">Access Denied ðŸ”’</p>
    </div>

    <div id="proposal-screen" class="container hidden">
        <h1 class="cursive">Can I be your Valentine?</h1>
        <div class="buttons">
            <button id="yes-btn">Yes</button>
            <button id="no-btn">No</button>
        </div>
    </div>

<script>
    /**
     * âš™ï¸ CONFIGURATION
     * Customize your text, music, and images here.
     */
    const CONFIG = {
        correctName: "jhace", // Case insensitive
        bgImage: "https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExenkyb2FmZmswZm4zZmJ2cXpsdWdwcXA4MzFndHN2cmNzNnBpOHZ1OSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/mBjozLJY4LfEOzlIpN/giphy.gif",
        musicPlaylist: [
            "https://jayzontop.github.io/music1.mp3",
            "https://jayzontop.github.io/music2.mp3"
        ],
        emojis: {
            waiting: ["ðŸ§Žâ€â™‚ï¸", "ðŸ›", "ðŸ™", "ðŸ¥º"],
            success: ["ðŸ’–", "ðŸ’˜", "ðŸ’", "ðŸ’•", "ðŸ‘©â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨"]
        }
    };

    // --- STATE MANAGEMENT ---
    let currentEmojiSet = CONFIG.emojis.waiting;
    let musicIndex = 0;
    let yesBtnScale = 1;
    let heartInterval;

    // --- DOM ELEMENTS ---
    const elements = {
        body: document.body,
        overlay: document.getElementById('overlay'),
        loginScreen: document.getElementById('login-screen'),
        proposalScreen: document.getElementById('proposal-screen'),
        nameInput: document.getElementById('name-input'),
        errorMsg: document.getElementById('error-msg'),
        audio: document.getElementById('bg-music'),
        yesBtn: document.getElementById('yes-btn'),
        noBtn: document.getElementById('no-btn'),
        loginBtn: document.getElementById('login-btn')
    };

    // --- INITIALIZATION ---
    elements.body.style.backgroundImage = `url('${CONFIG.bgImage}')`;

    // --- EVENT LISTENERS ---
    
    // 1. Overlay Click (Start Experience)
    elements.overlay.addEventListener('click', () => {
        elements.overlay.classList.add('fade-out');
        elements.body.classList.remove('blurred');
        playMusic();
        setTimeout(() => elements.overlay.remove(), 800);
    });

    // 2. Login Logic
    function attemptLogin() {
        const inputVal = elements.nameInput.value.trim().toLowerCase();
        if (inputVal === CONFIG.correctName.toLowerCase()) {
            elements.loginScreen.style.display = 'none';
            elements.proposalScreen.classList.remove('hidden');
            startFloatingEmojis();
        } else {
            elements.errorMsg.classList.remove('hidden');
            // Shake animation
            elements.loginScreen.style.transform = "translateX(5px)";
            setTimeout(() => elements.loginScreen.style.transform = "translateX(0)", 100);
            setTimeout(() => elements.loginScreen.style.transform = "translateX(-5px)", 200);
            setTimeout(() => elements.loginScreen.style.transform = "translateX(0)", 300);
        }
    }

    elements.loginBtn.addEventListener('click', attemptLogin);
    elements.nameInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') attemptLogin();
    });

    // 3. "No" Button Evasion
    const moveButton = (e) => {
        // Prevent touch scrolling on mobile when trying to hit the button
        if(e.type === 'touchstart') e.preventDefault(); 
        
        // Grow the Yes button
        yesBtnScale += 0.2;
        elements.yesBtn.style.transform = `scale(${yesBtnScale})`;

        // Move the No button
        const winWidth = window.innerWidth;
        const winHeight = window.innerHeight;
        const btnWidth = elements.noBtn.offsetWidth;
        const btnHeight = elements.noBtn.offsetHeight;

        // Calculate random position within viewport (minus padding)
        const randomX = Math.random() * (winWidth - btnWidth - 20);
        const randomY = Math.random() * (winHeight - btnHeight - 20);

        elements.noBtn.style.position = 'fixed';
        elements.noBtn.style.left = `${randomX}px`;
        elements.noBtn.style.top = `${randomY}px`;
    };

    elements.noBtn.addEventListener('mouseover', moveButton);
    elements.noBtn.addEventListener('touchstart', moveButton, {passive: false});

    // 4. "Yes" Button Success
    elements.yesBtn.addEventListener('click', () => {
        elements.proposalScreen.innerHTML = `
            <h1 class="fancy-text" style="font-size: 3rem;">YAYYY!!! ðŸ¥°</h1>
            <p style="font-size: 1.2rem;">You just made me the happiest person alive!</p>
            <p>See you on our Valentineâ€™s date ðŸ’•</p>
        `;
        
        // Change theme
        elements.body.style.background = "linear-gradient(135deg, #ff9a9e, #fad0c4)";
        currentEmojiSet = CONFIG.emojis.success;
        
        // Intensify hearts
        clearInterval(heartInterval);
        setInterval(createHeart, 150);
    });

    // --- UTILITY FUNCTIONS ---

    function startFloatingEmojis() {
        if (heartInterval) return;
        heartInterval = setInterval(createHeart, 400);
    }

    function createHeart() {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.textContent = currentEmojiSet[Math.floor(Math.random() * currentEmojiSet.length)];
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.fontSize = (Math.random() * 20 + 15) + "px";
        heart.style.animationDuration = (Math.random() * 3 + 3) + "s"; // Random speed
        document.body.appendChild(heart);
        
        setTimeout(() => heart.remove(), 6000);
    }

    function playMusic() {
        elements.audio.src = CONFIG.musicPlaylist[musicIndex];
        
        const playPromise = elements.audio.play();
        if (playPromise !== undefined) {
            playPromise.then(() => {
                fadeInAudio(elements.audio);
            }).catch(error => {
                console.log("Autoplay prevented by browser.");
            });
        }
        
        elements.audio.onended = () => {
            musicIndex = (musicIndex + 1) % CONFIG.musicPlaylist.length;
            playMusic();
        };
    }

    function fadeInAudio(audio) {
    audio.volume = 0;
    const fadeInterval = setInterval(() => {
        // 1. Calculate the next volume safely
        let newVolume = audio.volume + 0.01; 

        // 2. Check if it's too high
        if (newVolume >= 1) {
            audio.volume = 1;            // Set to max
            clearInterval(fadeInterval); // STOP the loop completely
        } else {
            audio.volume = newVolume;    // Keep increasing
        }
    }, 200);
}

</script>
</body>
</html>
